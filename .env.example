# n8n Configuration
# ==========================================
# Основные настройки n8n
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_WEBHOOK_URL=https://your-n8n-domain.com
WEBHOOK_URL=https://your-n8n-domain.com

# Безопасность
N8N_SECURE_COOKIE=true
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_secure_password

# Database Configuration (PostgreSQL)
# ==========================================
# Подключение к PostgreSQL для хранения уведомлений
DB_TYPE=postgres
DB_POSTGRESDB_HOST=localhost
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=notifications_db
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD=your_db_password
DB_POSTGRESDB_SCHEMA=public

# Альтернативный формат для credentials в n8n
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=notifications_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_db_password

# API Configuration
# ==========================================
# URL и токен для API отправки уведомлений
NOTIFICATION_API_URL=https://api.example.com/send-notification
NOTIFICATION_API_TOKEN=your_bearer_token_here

# Webhook Security Keys
# ==========================================
# API ключи для защиты webhook эндпоинтов
# Генерируйте случайные строки минимум 32 символа
WEBHOOK_API_KEY_SCHEDULE=generate_random_key_32_chars_minimum_1
WEBHOOK_API_KEY_CANCEL=generate_random_key_32_chars_minimum_2

# Rate Limiting (optional)
# ==========================================
N8N_PAYLOAD_SIZE_MAX=16
N8N_METRICS=true

# Logging
# ==========================================
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console,file
N8N_LOG_FILE_LOCATION=/var/log/n8n/

# Timezone
# ==========================================
# Важно для корректной работы планировщика
GENERIC_TIMEZONE=Europe/Moscow
TZ=Europe/Moscow

# Execution Configuration
# ==========================================
EXECUTIONS_TIMEOUT=300
EXECUTIONS_TIMEOUT_MAX=3600
N8N_CONCURRENCY_PRODUCTION_LIMIT=10

# Optional: Email Configuration (for error notifications)
# ==========================================
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=465
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com
# N8N_SMTP_SSL=true

# Optional: Monitoring
# ==========================================
# SENTRY_DSN=your_sentry_dsn_if_using_sentry