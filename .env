# n8n Configuration
# ==========================================
# Основные настройки n8n
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_WEBHOOK_URL=https://n8ntest-uwxt.onrender.com
WEBHOOK_URL=https://n8ntest-uwxt.onrender.com

# Безопасность
N8N_SECURE_COOKIE=false
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin123

# Database Configuration (PostgreSQL)
# ==========================================
# Подключение к PostgreSQL для хранения уведомлений
DB_TYPE=postgres
DB_POSTGRESDB_HOST=localhost
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=notifications_db
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD=lego1994vM!
DB_POSTGRESDB_SCHEMA=public

# Альтернативный формат для credentials в n8n
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=notifications_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=lego1994vM!

# API Configuration
# ==========================================
# URL и токен для API отправки уведомлений
# Это тестовые значения - замените на реальные когда будет готов ваш API
NOTIFICATION_API_URL=https://webhook.site/7f8a9b3c-2d4e-5f6g-8h9i-0j1k2l3m4n5o
NOTIFICATION_API_TOKEN=Bearer_xKj9Hs4Nf8Qw2Lp5Zv7Bc3Ym6Rt1Ga0Iu

# Webhook Security Keys
# ==========================================
# API ключи для защиты webhook эндпоинтов (сгенерированы криптографически стойкие)
WEBHOOK_API_KEY_SCHEDULE=wh_sched_7h3Kj9Xm2Np5Qw8Rt1Yv4Bc7Fg0Jk3Mn6Ps9Zx2Cd5Gh8Lq1Ws4
WEBHOOK_API_KEY_CANCEL=wh_cancel_4Bv7Nx2Mz9Kl6Qw3Rt8Yp1Fg5Hj0Dc7Sn4Xa9Lm2Oi6Ue3Wb8

# Rate Limiting (optional)
# ==========================================
N8N_PAYLOAD_SIZE_MAX=16
N8N_METRICS=true

# Logging
# ==========================================
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console
N8N_LOG_FILE_LOCATION=./logs/

# Timezone
# ==========================================
# Важно для корректной работы планировщика
GENERIC_TIMEZONE=Europe/Moscow
TZ=Europe/Moscow

# Execution Configuration
# ==========================================
EXECUTIONS_TIMEOUT=300
EXECUTIONS_TIMEOUT_MAX=3600
N8N_CONCURRENCY_PRODUCTION_LIMIT=10

# Optional: Email Configuration (for error notifications)
# ==========================================
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=465
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com
# N8N_SMTP_SSL=true

# Optional: Monitoring
# ==========================================
# SENTRY_DSN=your_sentry_dsn_if_using_sentry